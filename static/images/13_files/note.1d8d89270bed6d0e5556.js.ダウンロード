(window.webpackJsonp=window.webpackJsonp||[]).push([[4,49],{2877:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return T})),n.d(t,"MUTATION_TYPES",(function(){return E})),n.d(t,"ACTION_TYPES",(function(){return y})),n.d(t,"mutations",(function(){return O})),n.d(t,"actions",(function(){return S})),n.d(t,"storeModule",(function(){return N}));var o=n(0),r=(n(11),n(141),n(142),n(143),n(144),n(145),n(146),n(147),n(148),n(149),n(150),n(151),n(152),n(153),n(12),n(18),n(91),n(19),n(26),n(1)),l=n(2852),c=n(3673),d=n(3953),T=()=>({flatSections:[],sectionTree:null}),E={SET_FLAT_SECTIONS:"SET_FLAT_SECTIONS",REPLACE_SECTION:"REPLACE_SECTION"},y={FETCH:"FETCH",UPDATE_NOTE_LIKE_STATUS:"UPDATE_NOTE_LIKE_STATUS",UPDATE_MAGAZINE_FOLLOWING_STATUS:"UPDATE_MAGAZINE_FOLLOWING_STATUS",APPEND_NEXT_PAGE_CONTENTS:"APPEND_NEXT_PAGE_CONTENTS",UPDATE_CONTENT_LIKE:"UPDATE_CONTENT_LIKE"},O={[E.SET_FLAT_SECTIONS](e,t){var{flatSections:n}=t,o=(e=>{var table=new Map;e.forEach((e=>table.set(e.key,Object.assign(Object.assign({},e),{contents:e.contents?[...e.contents]:[]}))));var t=null,n=Number.POSITIVE_INFINITY;return e.forEach((e=>{var o,r=table.get(e.key);if(e.parentSectionKey){var l=table.get(e.parentSectionKey),c=null!==(o=l.contents)&&void 0!==o?o:[];l.contents=[...c.filter((s=>s.key!==r.key)),r]}n>r.depth&&(n=r.depth,t=r)})),table.clear(),t})(n);e.flatSections=[...n],e.sectionTree=o?Object.assign({},o):null},[E.REPLACE_SECTION](e,t){var{section:section}=t;Object(d.a)(null==section?void 0:section.parentSectionKey,e.sectionTree,(s=>{var e,t=null===(e=s.contents)||void 0===e?void 0:e.find((s=>s.key===section.key));t&&Object.keys(section).forEach((e=>r.a.set(t,e,section[e])))}))}},S={[y.FETCH](e,t){var n=this;return Object(o.a)((function*(){var{commit:o}=e,{sectionKey:r,injections:d}=t,T=yield n.$axios.$get("/v3/layout_infra/sections/".concat(r)).catch((e=>{throw console.error(e),e}));if(T.error)throw console.error(T.error),new Error(T.error);var y=["text","image","oembed","amazon_widgets","external_articles","embed","image_text_contents","text_contents","bullet_point_contents","button_contents"],O={dataset_keys:T.data.reduce(((e,t)=>t.contentKey?[...e,t.contentKey]:e),[])},S=(yield n.$axios.$get("/v3/layout_infra/sections/".concat(r,"/dataset_list"),{params:O}).catch((e=>{throw console.error(e),e}))).data.reduce(((e,t)=>(y.includes(t.contentType)?e.bulkCacheDatasetKeys=[...e.bulkCacheDatasetKeys,t.key]:e.datasetKeys=[...e.datasetKeys,t.key],e)),{bulkCacheDatasetKeys:[],datasetKeys:[]}),N=yield n.$axios.$get("/v3/layout_infra/sections/".concat(r,"/datasets"),{params:{dataset_keys:S.bulkCacheDatasetKeys,is_cache:!0}}).catch((e=>{throw console.error(e),e})),_=(e=>{var t={};return(null==e?void 0:e.noteKey)&&(t.note_key=e.noteKey),Object.keys(t).length>0?t:void 0})(d),I=Object(l.a)(S.datasetKeys,3).map((e=>n.$axios.$get("/v3/layout_infra/sections/".concat(r,"/datasets"),{params:{dataset_keys:e,args:_}}).catch((e=>{throw console.error(e),e})))),m=yield Promise.all(I).then((e=>e.reduce(((e,t)=>[...e,...t.data]),[]))),v=[...N.data||[],...m],k=T.data.map((s=>{if(!s.contentKey)return Object.assign(Object.assign({},s),{contents:[],contentType:""});var e=v.find((e=>e.key===s.contentKey));return e?Object.assign(Object.assign({},s),{contents:e.contents.map((e=>Object.assign(Object.assign({},e),{parentSectionKey:s.key}))),hasNextPage:e.hasNextPage,contentType:Object(c.a)(e.contentType),contentName:e.name}):Object.assign(Object.assign({},s),{contents:[],contentType:""})}));o(E.SET_FLAT_SECTIONS,{flatSections:k})}))()},[y.UPDATE_NOTE_LIKE_STATUS](e,t){var{commit:n}=e,{section:section,isLiked:o}=t,r=o?section.likeCount+1:section.likeCount-1,l=Object.assign(Object.assign({},section),{isLiked:o,likeCount:r});n(E.REPLACE_SECTION,{section:l})},[y.UPDATE_MAGAZINE_FOLLOWING_STATUS](e,t){var{commit:n}=e,{section:section,isFollowing:o}=t,r=Object.assign(Object.assign({},section),{isFollowing:o});n(E.REPLACE_SECTION,{section:r})},[y.APPEND_NEXT_PAGE_CONTENTS](e,t){var n=this;return Object(o.a)((function*(){var o,r,{commit:l}=e,{section:section,rootSectionKey:c,page:d}=t;if(section.contentKey){var T=yield n.$axios.$get("/v3/layout_infra/sections/".concat(c,"/datasets"),{params:{dataset_keys:[section.contentKey],page:d}});if(null===(r=null===(o=null==T?void 0:T.data)||void 0===o?void 0:o[0])||void 0===r?void 0:r.contents){var y=T.data[0].contents.map((e=>Object.assign(Object.assign({},e),{parentSectionKey:section.key}))),O=Object.assign(Object.assign({},section),{contents:[...section.contents||[],...y],hasNextPage:T.data[0].hasNextPage});l(E.REPLACE_SECTION,{section:O})}}}))()},[y.UPDATE_CONTENT_LIKE](e,t){var{commit:n}=e,{section:section,contentKey:o,isLiked:r,likeCount:l}=t;if(section.contents){var c=section.contents.map((e=>e.key===o?Object.assign(Object.assign({},e),{isLiked:r,likeCount:l}):e)),d=Object.assign(Object.assign({},section),{contents:c});n(E.REPLACE_SECTION,{section:d})}}},N={namespaced:!0,state:T,mutations:O,actions:S}},3105:function(e,t,n){"use strict";n.r(t),n.d(t,"STORE_NAME",(function(){return k})),n.d(t,"getType",(function(){return L})),n.d(t,"state",(function(){return f})),n.d(t,"MUTATION_TYPES",(function(){return A})),n.d(t,"ACTION_TYPES",(function(){return P})),n.d(t,"SECTIONSET_ITEMS",(function(){return K})),n.d(t,"CONTENT_ITEMS",(function(){return x})),n.d(t,"ITEMS",(function(){return z})),n.d(t,"ITEM_KEY_DATASOURCE_MAP",(function(){return j})),n.d(t,"mapItemKeyToDatasource",(function(){return R})),n.d(t,"mutations",(function(){return M})),n.d(t,"actions",(function(){return U})),n.d(t,"storeModule",(function(){return G}));var o=n(0),r=(n(18),n(11),n(12),n(19),n(28),n(105),n(91),n(26),n(141),n(142),n(143),n(144),n(145),n(146),n(147),n(148),n(149),n(150),n(151),n(152),n(153),n(1)),l=n(579),c=n(2877),d=(n(606),n(3368),n(3136),n(3137),n(3138),n(3139),n(3194)),T="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",E=()=>Array.from(crypto.getRandomValues(new Uint32Array(16))).map((e=>T[e%62])).join(""),y={NOTE(e,t){var{dispatch:n}=e,{key:o,sortOrder:r}=t,section={key:E(),hasNextPage:!1,parentSectionKey:null,displayType:"List",contentType:"creator_notes",componentType:"medium",contentId:null,contentKey:null,contentName:null,contents:[],depth:-1,sortOrder:-1,backgroundImage:{},options:{editable:!0,listType:{value:"ListLiquid",label:"ListLiquid",name:"ListLiquid"},numberOfLines:{label:"指定なし",name:"auto"},size:d.b.size.values.flexLarge}};n(P.INSERT_SECTION,{key:o,sortOrder:r,section:section})},MAGAZINE(e,t){var{dispatch:n}=e,{key:o,sortOrder:r}=t,section={key:E(),hasNextPage:!1,parentSectionKey:null,displayType:"List",contentType:"magazines",contentId:null,contentKey:null,contentName:null,contents:[],depth:-1,sortOrder:-1,backgroundImage:{},options:{editable:!0,listType:{value:"ListLiquid",label:"ListLiquid",name:"ListLiquid"},numberOfLines:{label:"指定なし",name:"auto"},size:d.b.size.values.flexLarge}};n(P.INSERT_SECTION,{key:o,sortOrder:r,section:section})},CREATOR(e,t){var{dispatch:n}=e,{key:o,sortOrder:r}=t,section={key:E(),hasNextPage:!1,parentSectionKey:null,displayType:"List",contentType:"creators",contentId:null,contentKey:null,contentName:null,contents:[],depth:-1,sortOrder:-1,backgroundImage:{},options:{editable:!0,listType:{value:"ListLiquid",label:"ListLiquid",name:"ListLiquid"},numberOfLines:{label:"指定なし",name:"auto"},size:d.b.size.values.flexLarge}};n(P.INSERT_SECTION,{key:o,sortOrder:r,section:section})},CIRCLE(e,t){var{dispatch:n}=e,{key:o,sortOrder:r}=t,section={key:E(),hasNextPage:!1,parentSectionKey:null,displayType:"List",contentType:"circles",contentId:null,contentKey:null,contentName:null,contents:[],depth:-1,sortOrder:-1,backgroundImage:{},options:{editable:!0,listType:{value:"ListLiquid",label:"ListLiquid",name:"ListLiquid"},numberOfLines:{label:"指定なし",name:"auto"},size:d.b.size.values.flexLarge}};n(P.INSERT_SECTION,{key:o,sortOrder:r,section:section})},AMAZON_WIDGET(e,t){var{dispatch:n}=e,{key:o,sortOrder:r}=t,section={key:E(),hasNextPage:!1,parentSectionKey:null,displayType:"List",contentType:"amazon_widgets",contentId:null,contentKey:null,contentName:null,contents:[],depth:-1,sortOrder:-1,backgroundImage:{},options:{editable:!0,listType:{value:"ListLiquid",label:"ListLiquid",name:"ListLiquid"},numberOfLines:{label:"指定なし",name:"auto"},size:d.b.size.values.flexLarge}};n(P.INSERT_SECTION,{key:o,sortOrder:r,section:section})},OEMBED(e,t){var{dispatch:n}=e,{key:o,sortOrder:r}=t,section={key:E(),hasNextPage:!1,parentSectionKey:null,displayType:"List",contentType:"oembed",contentId:null,contentKey:null,contentName:null,contents:[],depth:-1,sortOrder:-1,backgroundImage:{},options:{editable:!0,listType:{value:"ListLiquid",label:"ListLiquid",name:"ListLiquid"},numberOfLines:{label:"指定なし",name:"auto"},size:d.b.size.values.flexLarge}};n(P.INSERT_SECTION,{key:o,sortOrder:r,section:section})},EXTERNAL_ARTICLE(e,t){var{dispatch:n}=e,{key:o,sortOrder:r}=t,section={key:E(),hasNextPage:!1,parentSectionKey:null,displayType:"List",contentType:"external_articles",contentId:null,contentKey:null,contentName:null,contents:[],depth:-1,sortOrder:-1,backgroundImage:{},options:{editable:!0,listType:{value:"ListLiquid",label:"ListLiquid",name:"ListLiquid"},numberOfLines:{label:"指定なし",name:"auto"},size:d.b.size.values.flexLarge}};n(P.INSERT_SECTION,{key:o,sortOrder:r,section:section})},CUSTOM_LINK(e,t){var{dispatch:n}=e,{key:o,sortOrder:r}=t,section={key:E(),hasNextPage:!1,parentSectionKey:null,displayType:"List",contentType:"custom_links",contentId:null,contentKey:null,contentName:null,contents:[],depth:-1,sortOrder:-1,backgroundImage:{},options:{editable:!0,listType:{value:"ListLiquid",label:"ListLiquid",name:"ListLiquid"},numberOfLines:{label:"指定なし",name:"auto"},size:d.b.size.values.flexLarge}};n(P.INSERT_SECTION,{key:o,sortOrder:r,section:section})},TEXT(e,t){var{dispatch:n}=e,{key:o,sortOrder:r}=t,section={key:E(),hasNextPage:!1,parentSectionKey:null,displayType:"Text",contentType:"text",contentId:E(),contentKey:null,contentName:null,contents:[],depth:-1,sortOrder:-1,backgroundImage:{},options:{editable:!0,textType:{label:"見出し",name:"Heading",value:"Heading"},size:d.b.size.values.flexLarge}};n(P.INSERT_SECTION,{key:o,sortOrder:r,section:section})},IMAGE(e,t){var{dispatch:n}=e,{key:o,sortOrder:r}=t,section={key:E(),hasNextPage:!1,parentSectionKey:null,displayType:"Image",contentType:"image",contentId:E(),contentKey:null,contentName:null,contents:[],depth:-1,sortOrder:-1,backgroundImage:{},options:{editable:!0,size:d.b.size.values.flexLarge,shouldCropCenterSp:{name:"false",label:"無効"}}};n(P.INSERT_SECTION,{key:o,sortOrder:r,section:section})},EMPTY(e,t){var{dispatch:n}=e,{key:o,sortOrder:r}=t,section={key:E(),hasNextPage:!1,parentSectionKey:null,datasource:null,contentId:null,contentKey:null,contentName:null,displayType:"Empty",contentType:"empty",contents:[],backgroundImage:{},options:{editable:!0},depth:-1,sortOrder:-1};n(P.INSERT_SECTION,{key:o,sortOrder:r,section:section})},EMBED(e,t){var{dispatch:n}=e,{key:o,sortOrder:r}=t,section={key:E(),hasNextPage:!1,parentSectionKey:null,displayType:"Embed",contentType:"embed",contentId:null,contentKey:null,contentName:null,contents:[],depth:-1,sortOrder:-1,backgroundImage:{},options:{editable:!0,size:d.b.size.values.flexLarge}};n(P.INSERT_SECTION,{key:o,sortOrder:r,section:section})},IMAGE_TEXT_CONTENT(e,t){var{dispatch:n}=e,{key:o,sortOrder:r}=t,section={key:E(),hasNextPage:!1,parentSectionKey:null,displayType:"List",contentType:"image_text_contents",componentType:"medium",contentId:null,contentKey:null,contentName:null,contents:[],depth:-1,sortOrder:-1,backgroundImage:{},options:{editable:!0,listType:{value:"ListLiquid",label:"ListLiquid",name:"ListLiquid"},numberOfLines:{label:"指定なし",name:"auto"},size:d.b.size.values.flexLarge}};n(P.INSERT_SECTION,{key:o,sortOrder:r,section:section})},TEXT_CONTENT(e,t){var{dispatch:n}=e,{key:o,sortOrder:r}=t,section={key:E(),hasNextPage:!1,parentSectionKey:null,displayType:"List",contentType:"text_contents",componentType:"medium",contentId:null,contentKey:null,contentName:null,contents:[],depth:-1,sortOrder:-1,backgroundImage:{},options:{editable:!0,listType:{value:"ListLiquid",label:"ListLiquid",name:"ListLiquid"},numberOfLines:{label:"指定なし",name:"auto"},size:d.b.size.values.flexLarge}};n(P.INSERT_SECTION,{key:o,sortOrder:r,section:section})},BULLET_POINT_CONTENT(e,t){var{dispatch:n}=e,{key:o,sortOrder:r}=t,section={key:E(),hasNextPage:!1,parentSectionKey:null,displayType:"BulletPoint",contentType:"bullet_point_contents",componentType:"medium",contentId:null,contentKey:null,contentName:null,contents:[],depth:-1,sortOrder:-1,backgroundImage:{},options:{editable:!0,listType:{value:"ListLiquid",label:"ListLiquid",name:"ListLiquid"},numberOfLines:{label:"指定なし",name:"auto"},size:d.b.size.values.flexLarge}};n(P.INSERT_SECTION,{key:o,sortOrder:r,section:section})},BUTTON_CONTENT(e,t){var{dispatch:n}=e,{key:o,sortOrder:r}=t,section={key:E(),hasNextPage:!1,parentSectionKey:null,displayType:"List",contentType:"button_contents",componentType:"medium",contentId:null,contentKey:null,contentName:null,contents:[],depth:-1,sortOrder:-1,backgroundImage:{},options:{editable:!0,listType:{value:"ListLiquid",label:"ListLiquid",name:"ListLiquid"},numberOfLines:{label:"指定なし",name:"auto"},size:d.b.size.values.flexLarge}};n(P.INSERT_SECTION,{key:o,sortOrder:r,section:section})},CVBLOCK(e,t){var{dispatch:n}=e,{key:o,sortOrder:r}=t,l=E(),c={key:l,hasNextPage:!1,contentId:null,contentKey:null,contentName:null,parentSectionKey:o,displayType:"Vertical",backgroundImage:{},options:{editable:!0,size:d.b.size.values.fixLarge},depth:-1,sortOrder:-1,contentType:null,contents:[]};n(P.INSERT_SECTION,{key:o,sortOrder:r,section:c});var T={parentSectionKey:o,contentId:null,contentKey:null,contentName:null,displayType:"Spacer",backgroundImage:{},options:{editable:!0,spacerSize:{label:"小",name:"Small",value:"small"}},depth:-1,sortOrder:-1,contentType:null,contents:[]},y=Object.assign({key:E(),hasNextPage:!1},T);n(P.ADD_SECTION,{key:l,section:y});var O=E(),S={key:O,hasNextPage:!1,contentId:null,contentKey:null,contentName:null,parentSectionKey:l,displayType:"Vertical",backgroundImage:{},options:{editable:!0,size:d.b.size.values.flexLarge},depth:-1,sortOrder:-1,contentType:null,contents:[]};n(P.ADD_SECTION,{key:l,section:S});var N={displayType:"Text",contentType:"text",contentId:E(),contentKey:null,contentName:null,contents:[],depth:-1,sortOrder:-1,backgroundImage:{},options:{editable:!0,fontColor:{label:"白",name:"white",value:"white"},fontSize:{label:"36",name:"36",value:"36"},textType:{label:"h2",name:"h2",value:"h2"},size:d.b.size.values.flexLarge}},_=Object.assign({key:E(),hasNextPage:!1,parentSectionKey:O},N);n(P.ADD_SECTION,{key:O,section:_});var I=Object.assign(Object.assign({key:E(),hasNextPage:!1,parentSectionKey:O},N),{options:{editable:!0,fontColor:{label:"白",name:"white",value:"white"},fontSize:{label:"16",name:"16",value:"16"},textType:{label:"指定なし",name:"Paragraph",value:"Paragraph"},size:d.b.size.values.flexLarge}});n(P.ADD_SECTION,{key:O,section:I});var m=E(),v={key:m,hasNextPage:!1,contentId:null,contentKey:null,contentName:null,parentSectionKey:l,displayType:"Horizontal",backgroundImage:{},options:{editable:!0,size:d.b.size.values.flexLarge},depth:-1,sortOrder:-1,contentType:null,contents:[]};n(P.ADD_SECTION,{key:l,section:v});var k={parentSectionKey:m,displayType:"Image",contentType:"image",contentId:E(),contentKey:null,contentName:null,contents:[],depth:-1,sortOrder:-1,backgroundImage:{},options:{editable:!0,size:d.b.size.values.flexMedium}};n(P.ADD_SECTION,{key:m,section:Object.assign({key:E()},k)}),n(P.ADD_SECTION,{key:m,section:Object.assign({key:E()},k)}),n(P.ADD_SECTION,{key:m,section:Object.assign({key:E()},k)});var L=Object.assign({key:E(),hasNextPage:!1},T);n(P.ADD_SECTION,{key:l,section:L})},NOTEFOOTER(e,t){var{dispatch:n}=e,{key:o,sortOrder:r}=t,l=E(),c={key:l,hasNextPage:!1,contentId:null,contentKey:null,contentName:null,parentSectionKey:o,displayType:"Vertical",backgroundImage:{},options:{editable:!0,size:d.b.size.values.fixLarge},depth:-1,sortOrder:-1,contentType:null,contents:[]};n(P.INSERT_SECTION,{key:o,sortOrder:r,section:c});var T={parentSectionKey:o,contentId:null,contentKey:null,contentName:null,displayType:"Spacer",backgroundImage:{},options:{editable:!0,spacerSize:{label:"小",name:"Small",value:"small"}},depth:-1,sortOrder:-1,contentType:null,contents:[]},y=Object.assign({key:E(),hasNextPage:!1},T);n(P.ADD_SECTION,{key:l,section:y});var O=E(),S={key:O,hasNextPage:!1,contentId:null,contentKey:null,contentName:null,parentSectionKey:l,displayType:"Horizontal",backgroundImage:{},options:{editable:!0,size:d.b.size.values.flexLarge},depth:-1,sortOrder:-1,contentType:null,contents:[]};n(P.ADD_SECTION,{key:l,section:S});var image={key:E(),hasNextPage:!1,parentSectionKey:O,displayType:"Image",contentType:"image",contentId:E(),contentKey:null,contentName:null,contents:[],depth:-1,sortOrder:-1,backgroundImage:{},options:{editable:!0,size:d.b.size.values.flexSmall}};n(P.ADD_SECTION,{key:O,section:image});var N={displayType:"Text",contentType:"text",contentId:E(),contentKey:null,contentName:null,contents:[],depth:-1,sortOrder:-1,backgroundImage:{},options:{editable:!0,fontSize:{label:"12",name:"12",value:"12"},textType:{label:"指定なし",name:"Paragraph",value:"Paragraph"},size:d.b.size.values.flexLarge}},_=Object.assign(Object.assign({key:E(),hasNextPage:!1,parentSectionKey:O},N),{options:{editable:!0,fontSize:{label:"14",name:"14",value:"14"},textType:{label:"指定なし",name:"Paragraph",value:"Paragraph"},size:d.b.size.values.flexMedium}});n(P.ADD_SECTION,{key:O,section:_});var I=Object.assign({key:E(),hasNextPage:!1,parentSectionKey:l},N);n(P.ADD_SECTION,{key:l,section:I});var m=Object.assign({key:E(),hasNextPage:!1},T);n(P.ADD_SECTION,{key:l,section:m})},LEFT_MAIN(e,t){var{dispatch:n}=e,{key:o,sortOrder:r}=t,l=E(),c={key:l,hasNextPage:!1,contentId:null,contentKey:null,contentName:null,parentSectionKey:o,displayType:"Horizontal",backgroundImage:{},options:{editable:!0,size:d.b.size.values.flexLarge},depth:-1,sortOrder:-1,contentType:null,contents:[]};n(P.INSERT_SECTION,{key:o,sortOrder:r,section:c});var T={key:E(),hasNextPage:!1,parentSectionKey:l,contentId:null,contentKey:null,contentName:null,displayType:"Vertical",backgroundImage:{},options:{editable:!0,size:d.b.size.values.flexLarge},depth:-1,sortOrder:0,contents:[],contentType:null};n(P.ADD_SECTION,{key:l,section:T});var y={key:E(),hasNextPage:!1,parentSectionKey:l,contentId:null,contentKey:null,contentName:null,displayType:"Vertical",backgroundImage:{},options:{editable:!0,size:d.b.size.values.flexSmall},depth:-1,sortOrder:1,contents:[],contentType:null};n(P.ADD_SECTION,{key:l,section:y})},EQUALLY_SPACED(e,t){var{dispatch:n}=e,{key:o,sortOrder:r}=t,l=E(),c={key:l,hasNextPage:!1,parentSectionKey:o,contentId:null,contentKey:null,contentName:null,displayType:"Horizontal",backgroundImage:{},options:{editable:!0,size:d.b.size.values.flexLarge},depth:-1,sortOrder:-1,contentType:null,contents:[]};n(P.INSERT_SECTION,{key:o,sortOrder:r,section:c}),[E(),E(),E()].forEach((e=>{var t={key:e,hasNextPage:!1,parentSectionKey:l,contentId:null,contentKey:null,contentName:null,displayType:"Vertical",backgroundImage:{},options:{editable:!0,size:d.b.size.values.flexMedium},depth:-1,sortOrder:0,contents:[],contentType:null};n(P.ADD_SECTION,{key:l,section:t})}))},RIGHT_MAIN(e,t){var{dispatch:n}=e,{key:o,sortOrder:r}=t,l=E(),c={key:l,hasNextPage:!1,parentSectionKey:o,contentId:null,contentKey:null,contentName:null,displayType:"Horizontal",backgroundImage:{},options:{editable:!0,size:d.b.size.values.flexLarge},depth:-1,sortOrder:-1,contentType:null,contents:[]};n(P.INSERT_SECTION,{key:o,sortOrder:r,section:c});var T={key:E(),hasNextPage:!1,parentSectionKey:l,contentId:null,contentKey:null,contentName:null,displayType:"Vertical",backgroundImage:{},options:{editable:!0,size:d.b.size.values.flexSmall},depth:-1,sortOrder:1,contents:[],contentType:null};n(P.ADD_SECTION,{key:l,section:T});var y={key:E(),hasNextPage:!1,contentId:null,contentKey:null,contentName:null,parentSectionKey:l,displayType:"Vertical",backgroundImage:{},options:{editable:!0,size:d.b.size.values.flexLarge},depth:-1,sortOrder:0,contents:[],contentType:null};n(P.ADD_SECTION,{key:l,section:y})},SPACER(e,t){var{dispatch:n}=e,{key:o,sortOrder:r}=t,section={key:E(),hasNextPage:!1,parentSectionKey:o,contentId:null,contentKey:null,contentName:null,displayType:"Spacer",backgroundImage:{},options:{editable:!0,spacerSize:{label:"小",name:"Small",value:"small"}},depth:-1,sortOrder:-1,contentType:null,contents:[]};n(P.INSERT_SECTION,{key:o,sortOrder:r,section:section})}},O=(e,t)=>{var n=t.reduce(((t,s)=>s.parentSectionKey&&e.includes(s.parentSectionKey)?[...t,s.key]:t),[]);return 0===n.length?e:[...e,...O(n,t)]},S=n(3953),N=n(3353),_=(e,t)=>{var n=Object.create(null);return t.forEach((t=>{n[t]=e[t]})),(e=>JSON.stringify(e))(n)},I=e=>JSON.parse(e),m=()=>{var e=[],t=[];return{push:n=>{e.push(n),t=[]},undo:n=>{var o=e.pop();return o?(t.push(n),o):null},redo:n=>{var o=t.pop();return o?(e.push(n),o):null}}};var v=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t},k="editLayoutInfraStore",L=e=>"".concat(k,"/").concat(e),C=["flatSections","sectionTree","addedSections","updatedSections","deletedSections","selectedSection","selectedParentKeys","options"],h=null,D=e=>{h||(h=m()),h.push(e)},f=()=>Object.assign({addedSections:[],updatedSections:[],deletedSections:[],dragging:null,selectedSection:null,selectedParentKeys:[],options:{},contents:null,contentSideModal:{sortOrder:-1,visible:!1},datasetGroupKey:""},c.storeModule.state()),A=Object.assign({SET_DRAGGING:"SET_DRAGGING",SET_SELECTED:"SET_SELECTED",SET_OPTIONS:"SET_OPTIONS",SET_CONTENTS:"SET_CONTENTS",SET_DATASET_GROUP_KEY:"SET_DATASET_GROUP_KEY",ADD_SECTION:"ADD_SECTION",DELETE_SECTION:"DELETE_SECTION",UPDATE_SECTIONS:"UPDATE_SECTIONS",UPDATE_SECTION:"UPDATE_SECTION",SET_EDITED_SECTIONS:"SET_EDITED_SECTIONS",SET_CONTENT_SIDE_MODAL:"SET_CONTENT_SIDE_MODAL",RESTORE_MEMENTO:"RESTORE_MEMENTO"},c.MUTATION_TYPES),P=Object.assign({SET_DRAGGING:"SET_DRAGGING",HANDLE_DROP:"HANDLE_DROP",HANDLE_CLICK_SIDE_MODAL:"HANDLE_CLICK_SIDE_MODAL",INSERT_SECTION:"INSERT_SECTION",DEBUG_INIT_SECTION:"DEBUG_INIT_SECTION",SET_SELECTED:"SET_SELECTED",FETCH_OPTIONS:"FETCH_OPTIONS",SAVE:"SAVE",ADD_SECTION:"ADD_SECTION",SET_ADDED_SECTION:"SET_ADDED_SECTION",SET_UPDATED_SECTION:"SET_UPDATED_SECTION",SET_DELETED_SECTION:"SET_DELETED_SECTION",DELETE_SECTION:"DELETE_SECTION",UPDATE_SECTIONS:"UPDATE_SECTIONS",UPDATE_SECTION:"UPDATE_SECTION",TOGGLE_CONTENT_SIDE_MODAL:"TOGGLE_CONTENT_SIDE_MODAL",COPY_SECTION:"COPY_SECTION",UNDO:"UNDO",REDO:"REDO",FETCH_DATASET_GROUP_KEY:"FETCH_DATASET_GROUP_KEY"},c.ACTION_TYPES),K={CVBLOCK:"CVBLOCK",NOTEFOOTER:"NOTEFOOTER"},x={NOTE:"NOTE",MAGAZINE:"MAGAZINE",CREATOR:"CREATOR",CIRCLE:"CIRCLE",AMAZON_WIDGET:"AMAZON_WIDGET",CUSTOM_LINK:"CUSTOM_LINK",TEXT:"TEXT",IMAGE:"IMAGE",OEMBED:"OEMBED",EXTERNAL_ARTICLE:"EXTERNAL_ARTICLE",EMBED:"EMBED",IMAGE_TEXT_CONTENT:"IMAGE_TEXT_CONTENT",TEXT_CONTENT:"TEXT_CONTENT",BULLET_POINT_CONTENT:"BULLET_POINT_CONTENT",BUTTON_CONTENT:"BUTTON_CONTENT"},z=Object.assign(Object.assign(Object.assign({},x),K),{EMPTY:"EMPTY",LEFT_MAIN:"LEFT_MAIN",EQUALLY_SPACED:"EQUALLY_SPACED",RIGHT_MAIN:"RIGHT_MAIN",SPACER:"SPACER"}),j={empty:"EMPTY",creator_notes:"NOTE",keyword_search_notes:"NOTE",mediakit_notes:"NOTE",magazines:"MAGAZINE",creators:"CREATOR",circles:"CIRCLE",amazon_widgets:"AMAZON_WIDGET",custom_links:"CUSTOM_LINK",text:"TEXT",image:"IMAGE",oembed:"OEMBED",external_articles:"EXTERNAL_ARTICLE",embed:"EMBED",image_text_contents:"IMAGE_TEXT_CONTENT",text_contents:"TEXT_CONTENT",bullet_point_contents:"BULLET_POINT_CONTENT",button_contents:"BUTTON_CONTENT"},R=e=>{var t=Object.entries(j),n=Object.values(j).findIndex((t=>t===e));return-1===n?null:t[n][0]},M=Object.assign({[A.SET_EDITED_SECTIONS](e,t){var{addedSections:n,updatedSections:o,deletedSections:r}=t;n&&(e.addedSections=[...n]),o&&(e.updatedSections=[...o]),r&&(e.deletedSections=[...r])},[A.ADD_SECTION](e,t){var{section:section}=t;e.flatSections.push(section),Object(S.a)(null==section?void 0:section.parentSectionKey,e.sectionTree,(s=>{var e;return null===(e=s.contents)||void 0===e?void 0:e.push(section)}))},[A.DELETE_SECTION](e,t){var{key:n,section:section,keys:o}=t;e.flatSections=[...e.flatSections.filter((s=>!o.includes(s.key)))],Object(S.a)(n,e.sectionTree,(s=>{var e,t,n,o=null!==(t=null===(e=s.contents)||void 0===e?void 0:e.findIndex((e=>e.key==section.key)))&&void 0!==t?t:-1;-1!==o&&(null===(n=s.contents)||void 0===n||n.splice(o,1))}))},[A.UPDATE_SECTIONS](e,t){var{key:n,sections:o}=t;o.forEach((section=>{var t,n=null!==(t=e.flatSections.findIndex((s=>s.key===section.key)))&&void 0!==t?t:-1;-1!==n&&e.flatSections.splice(n,1,section)})),e.flatSections.sort(((a,b)=>a.depth+a.sortOrder-(b.depth+b.sortOrder))),Object(S.a)(n,e.sectionTree,(s=>{var e;o.forEach((section=>{var e,t=null===(e=s.contents)||void 0===e?void 0:e.find((s=>s.key===section.key));t&&Object.keys(section).forEach((e=>r.a.set(t,e,section[e])))})),null===(e=s.contents)||void 0===e||e.sort(((a,b)=>a.depth+a.sortOrder-(b.depth+b.sortOrder)))}))},[A.UPDATE_SECTION](e,t){var n,{section:section}=t,o=null!==(n=e.flatSections.findIndex((s=>s.key===section.key)))&&void 0!==n?n:-1;-1!==o&&(e.flatSections.splice(o,1,section),Object(S.a)(null==section?void 0:section.parentSectionKey,e.sectionTree,(s=>{var e,t=null===(e=s.contents)||void 0===e?void 0:e.find((s=>s.key===section.key));t&&Object.keys(section).forEach((e=>r.a.set(t,e,section[e])))})))},[A.SET_DRAGGING](e,t){var{dragging:n}=t;e.dragging=n},[A.SET_SELECTED](e,t){var{section:section,parentKeys:n}=t;section?(e.selectedSection=Object.assign({},section),e.selectedParentKeys=[...n]):(e.selectedSection=null,e.selectedParentKeys=[])},[A.SET_OPTIONS](e,t){var{options:n}=t;e.options=Object.assign({},n)},[A.SET_CONTENTS](e,t){var{contents:n}=t;e.contents=n?Object.assign({},n):null},[A.SET_CONTENT_SIDE_MODAL](e,t){var{contentSideModal:n}=t;e.contentSideModal=Object.assign({},n)},[A.SET_DATASET_GROUP_KEY](e,t){var{key:n}=t;e.datasetGroupKey=n},[A.RESTORE_MEMENTO](e,t){var{memento:n}=t;e.flatSections=[...n.flatSections],e.sectionTree=n.sectionTree?Object.assign({},n.sectionTree):null,e.addedSections=[...n.addedSections],e.updatedSections=[...n.updatedSections],e.deletedSections=[...n.deletedSections],e.selectedSection=n.selectedSection?Object.assign({},n.selectedSection):null,e.selectedParentKeys=[...n.selectedParentKeys],e.options=Object.assign({},n.options)}},c.storeModule.mutations),U=Object.assign({[P.SAVE](e,t){var n=this;return Object(o.a)((function*(){var{state:o,commit:r}=e,c=e=>Object.keys(e).reduce(((t,n)=>Object.assign(Object.assign({},t),{[Object(l.a)(n)]:e[n]})),{}),{key:d}=t,T=o.addedSections.map((e=>{var{contents:t,backgroundImageFile:n}=e,s=v(e,["contents","backgroundImageFile"]);return c(s)})),E=o.deletedSections.map((e=>{var{contents:t}=e,s=v(e,["contents"]);return s.backgroundImage.key&&Object(N.a)(n.$axios,{key:s.backgroundImage.key}),c(s)})),y=o.updatedSections.map((e=>{var{contents:t,backgroundImageFile:o}=e,s=v(e,["contents","backgroundImageFile"]);return s.backgroundImage.key&&(o||s.backgroundImage.deleted)&&Object(N.a)(n.$axios,{key:s.backgroundImage.key}),c(s)}));yield n.$axios.$put("/v3/layout_infra/sections",{section_key:d,added:{items:T},deleted:{items:E},updated:{items:y}}),r(A.SET_EDITED_SECTIONS,{addedSections:[],updatedSections:[],deletedSections:[]})}))()},[P.ADD_SECTION](e,t){var{commit:n,dispatch:o,state:r}=e,{key:l,section:section,withLogging:c=!0}=t;c&&D(_(r,C));var d=r.flatSections.find((e=>e.key===l));if(!d)throw new Error("Parent node was not found.");var T=d.depth+1,E=r.flatSections.filter((e=>e.depth===T&&e.parentSectionKey===d.key)).reduce(((e,t)=>e>t.sortOrder?e:t.sortOrder),-1)+1,y=Object.assign(Object.assign({},section),{parentSectionKey:l,depth:T,sortOrder:E});n(A.ADD_SECTION,{section:y}),o(P.SET_ADDED_SECTION,{section:y})},[P.SET_ADDED_SECTION](e,t){var{commit:n,state:o}=e,{section:section}=t;n(A.SET_EDITED_SECTIONS,{addedSections:[...o.addedSections,section]})},[P.DELETE_SECTION](e,t){var{commit:n,dispatch:o,state:r}=e;D(_(r,C));var{key:l,section:section}=t,c=O([section.key],r.flatSections);o(P.SET_DELETED_SECTION,{keys:c}),n(A.DELETE_SECTION,{key:l,section:section,keys:c});var d=[];Object(S.a)(l,r.sectionTree,(s=>{s.contents&&d.push(...s.contents)})),d.sort(((a,b)=>a.depth+a.sortOrder-(b.depth+b.sortOrder))),o(P.UPDATE_SECTIONS,{key:l,sections:d,withLogging:!1})},[P.SET_DELETED_SECTION](e,t){var{state:n,commit:o}=e,{keys:r}=t,{addedSections:l,updatedSections:c,deletedSections:d}=n,T=r.reduce(((e,t)=>{var o=n.flatSections.find((s=>s.key===t));return o?[...e,o]:e}),[]),E=l.filter((s=>!r.includes(s.key))),y=c.filter((s=>!r.includes(s.key))),O=[...d.filter((s=>!r.includes(s.key))),...T];o(A.SET_EDITED_SECTIONS,{addedSections:E,updatedSections:y,deletedSections:O})},[P.UPDATE_SECTIONS](e,t){var{commit:n,dispatch:o,state:r}=e,{key:l,sections:c,withLogging:d=!0}=t;d&&D(_(r,C));var T=c.map(((s,e)=>Object.assign(Object.assign({},s),{sortOrder:e})));n(A.UPDATE_SECTIONS,{key:l,sections:T}),o(P.SET_UPDATED_SECTION,{sections:T})},[P.UPDATE_SECTION](e,t){var{commit:n,dispatch:o,state:r}=e;D(_(r,C)),n(A.UPDATE_SECTION,t),o(P.SET_UPDATED_SECTION,{sections:[t.section]})},[P.SET_UPDATED_SECTION](e,t){var{commit:n,state:o}=e,{sections:r}=t,{addedSections:l,updatedSections:c}=o,[d,T]=r.reduce(((e,s)=>{var[t,n]=e,o=l.findIndex((e=>e.key===s.key)),r=c.findIndex((e=>e.key===s.key));return-1!==o?t.splice(o,1,s):-1!==r?n.splice(r,1,s):n.push(s),[t,n]}),[[...l],[...c]]);n(A.SET_EDITED_SECTIONS,{addedSections:d,updatedSections:T})},[P.FETCH_OPTIONS]:e=>Object(o.a)((function*(){var t,{state:o,commit:r}=e,l=null===(t=o.selectedSection)||void 0===t?void 0:t.displayType;if(l){var c=yield n(3354)("./".concat(l)).catch((()=>{}));c&&c.options?r(A.SET_OPTIONS,{options:c.options}):r(A.SET_OPTIONS,{options:{}})}else r(A.SET_OPTIONS,{options:{}})}))(),[P.SET_DRAGGING](e,t){var{commit:n}=e;n(A.SET_DRAGGING,t)},[P.SET_SELECTED]:(e,t)=>Object(o.a)((function*(){var n,{commit:o,dispatch:r,state:l}=e,c=(null===(n=t.section)||void 0===n?void 0:n.key)?((e,t)=>{var n=[];if(!e)return n;for(var o,r=function(){var o=l.pop();if(!o)return{v:n};o!==e&&n.push(o);var r=t.find((s=>s.key===o));if(!r||!r.parentSectionKey)return{v:n};l.push(r.parentSectionKey)},l=[e];l.length;)if(o=r())return o.v;return n})(t.section.key,l.flatSections):[];o(A.SET_SELECTED,Object.assign(Object.assign({},t),{parentKeys:c})),yield r(P.FETCH_OPTIONS)}))(),[P.HANDLE_DROP](e,t){var n=e.state.dragging;n&&(D(_(e.state,C)),y[n](e,t))},[P.HANDLE_CLICK_SIDE_MODAL](e,t){var n=e.state.selectedSection;if(n&&n.parentSectionKey){D(_(e.state,C));var{itemKey:o}=t,r=e.state.contentSideModal.sortOrder;y[o](e,{key:n.parentSectionKey,sortOrder:r})}},[P.INSERT_SECTION]:(e,t)=>Object(o.a)((function*(){var{dispatch:n,state:o}=e,{key:r,section:section,sortOrder:l,withLogging:c=!0}=t;n(P.ADD_SECTION,{key:r,section:section,withLogging:c});var d=o.flatSections.find((s=>s.key===section.key));if(d)if(-1!==l){var T=[];Object(S.a)(r,o.sectionTree,(s=>{s.contents&&T.push(...s.contents)})),T.sort(((a,b)=>a.depth+a.sortOrder-(b.depth+b.sortOrder))),T.splice(l,0,T.splice(d.sortOrder,1)[0]),n(P.UPDATE_SECTIONS,{key:r,sections:T,withLogging:c});var E=o.flatSections.find((s=>s.key===section.key));n(P.SET_SELECTED,{section:E})}else n(P.SET_SELECTED,{section:d})}))(),[P.TOGGLE_CONTENT_SIDE_MODAL](e,t){var{commit:n}=e;n(A.SET_CONTENT_SIDE_MODAL,{contentSideModal:t})},[P.COPY_SECTION](e,t){var n,{dispatch:o,state:r}=e;D(_(r,C));for(var{section:section,to:l}=t,c=[Object.assign(Object.assign({},section),{parentSectionKey:l||section.parentSectionKey})],d=new Map;c.length;){var T=c.pop();if(!T)break;var y=T.parentSectionKey,O=E(),S=!!T.contentKey;o(P.INSERT_SECTION,{section:Object.assign(Object.assign({},T),{key:O,parentSectionKey:null,contents:S&&T.contents?[...T.contents]:[]}),key:y?null!==(n=d.get(y))&&void 0!==n?n:y:null,sortOrder:T.sortOrder,withLogging:!1}),d.set(T.key,O),!S&&T.contents&&c.push(...T.contents)}},[P.UNDO](e){var t,n,{state:o,commit:r}=e,l=(t=_(o,C),(n=null==h?void 0:h.undo(t))?I(n):null);l&&r(A.RESTORE_MEMENTO,{memento:l})},[P.REDO](e){var t,n,{state:o,commit:r}=e,l=(t=_(o,C),(n=null==h?void 0:h.redo(t))?I(n):null);l&&r(A.RESTORE_MEMENTO,{memento:l})},[P.FETCH_DATASET_GROUP_KEY](e,t){var n=this;return Object(o.a)((function*(){var{commit:o}=e,{sectionKey:r}=t,l=yield n.$axios.$get("/v3/layout_infra/sections/".concat(r,"/dataset_groups")).catch((e=>{throw console.error(e),e}));o(A.SET_DATASET_GROUP_KEY,{key:l.data.key})}))()}},c.storeModule.actions),G={namespaced:!0,mutations:M,actions:U,state:f}},3194:function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));var o=n(1),r={size:{label:"コンテンツ幅",kind:"buttons",values:{flexSmall:{name:"flexSmall",label:"小"},flexMedium:{name:"flexMedium",label:"中"},flexLarge:{name:"flexLarge",label:"大"},fixLarge:{name:"fixLarge",label:"フィット"}}}};t.a=o.a.extend({computed:{sizeSuffix(){var e;return null===(e=this.section.contents)||void 0===e?void 0:e.map((s=>s.options.size?s.options.size.name:null))}},methods:{logInfo(){var section=this.section;console.log(null==section?void 0:section.displayType,"key: ".concat(null==section?void 0:section.key),"depth: ".concat(null==section?void 0:section.depth),"sortOrder: ".concat(null==section?void 0:section.sortOrder))}}})},3353:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return c}));var o=n(0);n(30);function r(e,t){return l.apply(this,arguments)}function l(){return(l=Object(o.a)((function*(e,t){var{file:n,fileName:o,width:r,height:l,kind:c,additional:d}=t,T=new FormData;return T.append("file",n,o),r&&T.append("width",r.toString()),l&&T.append("height",l.toString()),T.append("kind",c),d&&Object.keys(d).forEach((e=>T.append(e,d[e]))),(yield e.post("/v2/images",T)).data.data}))).apply(this,arguments)}function c(e,t){return d.apply(this,arguments)}function d(){return(d=Object(o.a)((function*(e,t){var{key:n}=t;return e.delete("/v2/images/".concat(n))}))).apply(this,arguments)}},3354:function(e,t,n){var map={"./BulletPoint":[5095,132],"./BulletPoint.vue":[5095,132],"./Carousel":[5096,107],"./Carousel.vue":[5096,107],"./Carousel/CarouselItem":[4001,121],"./Carousel/CarouselItem.vue":[4001,121],"./ColumnList":[5097,0,1,12,27,102],"./ColumnList.vue":[5097,0,1,12,27,102],"./Embed":[5098,122],"./Embed.vue":[5098,122],"./Empty":[5099,140],"./Empty.vue":[5099,140],"./Horizontal":[4003,34],"./Horizontal/":[4003,34],"./Horizontal/Horizontal":[4002,128],"./Horizontal/Horizontal.vue":[4002,128],"./Horizontal/HorizontalEdit":[5100,20,43,136],"./Horizontal/HorizontalEdit.vue":[5100,20,43,136],"./Horizontal/index":[4003,34],"./Horizontal/index.vue":[4003,34],"./HorizontalScroll":[5101,112],"./HorizontalScroll.vue":[5101,112],"./HorizontalScroll/HorizontalScrollItem":[4004,123],"./HorizontalScroll/HorizontalScrollItem.vue":[4004,123],"./Image":[5102,124],"./Image.vue":[5102,124],"./List":[5103,118],"./List.vue":[5103,118],"./List/List1Column":[4005,125],"./List/List1Column.vue":[4005,125],"./List/List2Column":[4006,126],"./List/List2Column.vue":[4006,126],"./List/List3Column":[4007,127],"./List/List3Column.vue":[4007,127],"./List/ListLiquid":[4008,116],"./List/ListLiquid.vue":[4008,116],"./Spacer":[5104,133],"./Spacer.vue":[5104,133],"./Text":[5105,119],"./Text.vue":[5105,119],"./Text/Heading":[4009,114],"./Text/Heading.vue":[4009,114],"./Text/Paragraph":[4010,115],"./Text/Paragraph.vue":[4010,115],"./Vertical":[3662,33],"./Vertical/":[3662,33],"./Vertical/Vertical":[3661,120],"./Vertical/Vertical.vue":[3661,120],"./Vertical/VerticalEdit":[5106,20,44,137],"./Vertical/VerticalEdit.vue":[5106,20,44,137],"./Vertical/index":[3662,33],"./Vertical/index.vue":[3662,33]};function o(e){if(!n.o(map,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=map[e],o=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(o)}))}o.keys=function(){return Object.keys(map)},o.id=3354,e.exports=o},3673:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));n(19);var o=e=>!!e&&["notes","creator_notes","magazine_notes","hashtag_notes","category_notes","keyword_search_notes","mediakit_notes","timesale_notes"].includes(e),r=e=>"mediakit_notes"===e?"mediakit_notes":o(e)?"creator_notes":e},3953:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n(11),n(12);var o=(e,section,t)=>{if(e)for(var n=[section];n.length;){var o=n.pop();if(!o)return;if(o.key===e)return t(o);o.contents&&n.push(...o.contents)}}}}]);