(window.webpackJsonp=window.webpackJsonp||[]).push([[194],{2981:function(e,t,o){"use strict";o.d(t,"b",(function(){return r}));o(19),o(28);var n=o(3016),r=(e,t)=>!!e.name&&(n.b.includes(e.name)||t&&n.a.includes(e.name));t.a={isCreatorTop:r,isCreatorTopHome:e=>"urlname"===e.name,isCreatorTopCircle:e=>"circle"===e.name||"urlname-circle"===e.name,isCreatorTopStore:e=>"store"===e.name||"urlname-store"===e.name,isCreatorTopJobs:e=>"jobs"===e.name||"urlname-jobs"===e.name}},3016:function(e,t,o){"use strict";o.d(t,"b",(function(){return n})),o.d(t,"a",(function(){return r})),o.d(t,"g",(function(){return c})),o.d(t,"f",(function(){return l})),o.d(t,"c",(function(){return d})),o.d(t,"e",(function(){return m})),o.d(t,"d",(function(){return k}));var n=["urlname","urlname-archives","urlname-archives-year-month","urlname-followers","urlname-followings","urlname-likes","urlname-magazines","urlname-circle","urlname-s-sectionId","urlname-menu-menuId","urlname-menu-menuId-s-sectionId","urlname-store","urlname-jobs","urlname-topic_preview","urlname-all"],r=["archives","archives-year-month","followers","followings","index","likes","magazines","circle","s-sectionId","menu-menuId","menu-menuId-s-sectionId","store","jobs","topic_preview","all"],c=["urlname-n-key","n-key"],l=["urlname-m-key","urlname-m-key-archive-date","urlname-m-key-hashtag-hashtagId","urlname-m-key-menu-menuId","urlname-m-key-subscribe","m-key","m-key-archive-date","m-key-hashtag-hashtagId","m-key-menuId","m-key-subscribe","subscribe"],d=["index","urlname"],m=["topic_preview","urlname-topic_preview"],k=d.concat(m)},3912:function(e,t,o){"use strict";o.d(t,"a",(function(){return n})),o.d(t,"b",(function(){return r})),o.d(t,"c",(function(){return c}));o(14),o(64);function n(e,t){if(void 0!==e)return{logoImageUrl:e.match(/^http/)?e:"http://localhost:3001"+e,title:t||"note"}}function r(e){var{customDomain:t}=e.$path,{topicConfig:o}=e.$store.state.metadata.data||{},{nonCdProUserConfig:n}=e.$store.state.metadata.data||{};return"media"===(null==t?void 0:t.homeType)?(null==o?void 0:o.logoUrl)||(null==t?void 0:t.logoUrl)||void 0:(null==t?void 0:t.logoUrl)||(null==n?void 0:n.logoUrl)||(null==o?void 0:o.logoUrl)||void 0}function c(e){var t;return null===(t=e.$store.state.metadata.data)||void 0===t?void 0:t.ogSiteName}},3913:function(e,t,o){"use strict";o.d(t,"a",(function(){return n}));o(88);function n(e){var t,{customDomain:o}=e.$store.state.metadata,{nonCdProUserConfig:n}=e.$store.state.metadata.data||{},r=Boolean(o),c=Boolean(n);if(!1!==r||!1!==c){var l,d="object"==typeof window,m=d?window.location.protocol:"https:",k=d&&window.location.port.length>0?":"+window.location.port:"",v=d?window.location.origin:"https://note.com",{domain:h,isOauthRequired:f}=null!==(t=e.$store.state.metadata.customDomain)&&void 0!==t?t:{},{topPagePath:$}=null!=n?n:{};if(l=void 0===h?(null==$?void 0:$.startsWith("/"))?"".concat(v).concat($):$:"".concat(m,"//").concat(h).concat(k),!1!==Boolean(l)||!1!==Boolean(f))return{host:l,isOauthRequired:f}}}},4432:function(e,t,o){"use strict";o.d(t,"a",(function(){return l}));o(19),o(28);var n=o(2981),r=o(3016),c=(e,t)=>{var o,c,l,d,m,k;return Object(n.b)(t,Boolean(e.state.metadata.customDomain))?k=null===(o=e.state.pages.creatorTop)||void 0===o?void 0:o.creator:r.g.includes(t.name||"")?k=null===(l=null===(c=e.state.pages.noteDetail)||void 0===c?void 0:c.data)||void 0===l?void 0:l.user:r.f.includes(t.name||"")&&(k=null===(m=null===(d=e.state.pages.magazineTop)||void 0===d?void 0:d.magazineLayout)||void 0===m?void 0:m.user),k?{id:k.id,nickname:k.nickname,urlname:k.urlname,profileImageUrl:k.userProfileImagePath||k.profileImagePath||k.profileImageUrl}:null};function l(e,t,o,n){var r=c(e.$store,e.$route);return null==n||n.emit("change",{from:null==o?void 0:o.path,to:t.path}),{creatorUrlname:(null==r?void 0:r.urlname)||void 0,creatorNickname:(null==r?void 0:r.nickname)||void 0,creatorImageUrl:(null==r?void 0:r.profileImageUrl)||void 0}}},6685:function(e,t,o){"use strict";o.r(t);var n=o(0),r=(o(19),o(1)),c=o(2851),l=o(6449),d=o(3418),m=o(598),k=o(400),v=o(262),h=o(396),f=o(3912),$=o(3913),L=o(4432),y=o(54);function A(e,t){e.trackActionLogs([e.buildActionLogRecord({kind:t,contents:{}})])}var N=Object(k.a)(l.a),w=r.a.extend({components:{NavbarPrimaryContainer:N},mixins:[y.a],data:()=>({creatorUrlname:void 0,creatorName:void 0,creatorImageUrl:void 0,routerEventBus:Object(d.e)(),navbarEventBus:Object(d.c)(),isAtTop:!0,throttledHandleScroll:null}),computed:{routerConfig(){return Object(h.a)(this)},customLogoConfig(){return Object(f.a)(this.customLogoImageUrl,this.customLogoTitle)},customLogoImageUrl(){return Object(f.b)(this)},customLogoTitle(){return Object(f.c)(this)},customDomainConfig(){return Object($.a)(this)},_currentUser(){var{currentUser:e}=this;return{urlname:e.urlname,nickname:e.nickname,imageUrl:e.userProfileImagePath,isPremium:e.isPremiumUser,isBusiness:e.userBusiness,isPro:e.isPro,isAnalyseMember:e.isAnalyseMember,isWriteMember:e.isWriteMember,isTwitterIntegrated:e.isLinkedTwitter,customDomain:e.customDomain,isCircleOwner:e.hasCircle,isEmailConfirmed:e.emailConfirmedFlag,isBoardDisabled:e.isBoardDisabled,pointBalance:e.pointBalance,canUseUserPage:e.canUseUserPage,hasCircle:e.hasCircle,hasJoinCircle:e.hasJoinCircle,isNoteMoneyActivated:e.isNoteMoneyActivated,createNoteSettings:e.createNoteSettings,dmAcceptEnabled:e.dmAcceptEnabled}},isNoteDetailPage(){return["urlname-n-key","n-key"].includes(this.$route.name)},showSearchOnlyOnMobile(){return this.isNoteDetailPage&&!1===this.isAtTop},showMessageIcon(){return"off"!==this._currentUser.dmAcceptEnabled}},watch:{$route:{immediate:!0,handler(e,t){var{creatorUrlname:o,creatorNickname:n,creatorImageUrl:r}=Object(L.a)(this,e,t,this.routerEventBus);this.creatorUrlname=o,this.creatorName=n,this.creatorImageUrl=r}}},mounted(){var e=this;return Object(n.a)((function*(){Object(L.a)(e,e.$route,e.$route,e.routerEventBus),e.currentUser&&e.mountModals("noteEdit","pickUrlname"),e.throttledHandleScroll=Object(c.a)(e.handleScroll,100),e.handleScroll(),window.addEventListener("scroll",e.throttledHandleScroll);var t=e.navbarEventBus;null==t||t.on("clickLogo",(()=>{var{nonCdProUserConfig:t,topicConfig:o}=e.$store.state.metadata.data||{};e.$path.customDomainConfig||(null==t?void 0:t.topPagePath)||(null==o?void 0:o.topPagePath)||"urlname-n-key"===e.$route.name&&e.$store.dispatch(m.HOME_TIMELINE_ACTION_TYPES.INIT_STATE)})),null==t||t.on("clickDecoration",(()=>{e.$tracker.trackActionLogs([e.$tracker.buildActionLogRecord({kind:"navbar-decoration-click",contents:{}})])})),null==t||t.on("impDecoration",(()=>{e.$tracker.trackActionLogs([e.$tracker.buildActionLogRecord({kind:"navbar-decoration-imp",contents:{}})])})),null==t||t.on("lackOfUrlname",(()=>{e.pushPickUrlnameModal({via:"note"})})),null==t||t.on("clickNoteList",(()=>{e.$tracker.trackActionLogs([e.$tracker.buildActionLogRecord({kind:"posting-menu-click",contents:{type:"NoteList"}})])})),null==t||t.on("clickMembershipButton",(()=>{e.$tracker.trackActionLogs([e.$tracker.buildActionLogRecord({kind:"posting-menu-click",contents:{type:"Membership"}})])})),null==t||t.on("clickTextNoteButton",Object(n.a)((function*(){e.$tracker.trackActionLogs([e.$tracker.buildActionLogRecord({kind:"posting-menu-click",contents:{type:"TextNote"}})])}))),null==t||t.on("launchTalkNoteEditor",(()=>{e.pushNoteEditModal({noteType:"TalkNote",props:{note:null}}),e.$tracker.trackActionLogs([e.$tracker.buildActionLogRecord({kind:"posting-menu-click",contents:{type:"TalkNote"}})])})),null==t||t.on("launchImageNoteEditor",(()=>{e.pushNoteEditModal({noteType:"ImageNote",props:{note:null}}),e.$tracker.trackActionLogs([e.$tracker.buildActionLogRecord({kind:"posting-menu-click",contents:{type:"ImageNote"}})])})),null==t||t.on("launchSoundNoteEditor",(()=>{e.pushNoteEditModal({noteType:"SoundNote",props:{note:null}}),e.$tracker.trackActionLogs([e.$tracker.buildActionLogRecord({kind:"posting-menu-click",contents:{type:"SoundNote"}})])})),null==t||t.on("launchMovieNoteEditor",(()=>{e.pushNoteEditModal({noteType:"MovieNote",props:{note:null}}),e.$tracker.trackActionLogs([e.$tracker.buildActionLogRecord({kind:"posting-menu-click",contents:{type:"MovieNote"}})])})),null==t||t.on("focusSearchForm",(t=>{var o;!0===(null===(o=t.detail)||void 0===o?void 0:o.isFocus)&&Object(v.e)(e)})),null==t||t.on("toggleNotification",(t=>{var o;!0===(null===(o=t.detail)||void 0===o?void 0:o.isOpen)&&Object(v.c)(e)})),null==t||t.on("toggleUserMenu",(t=>{var o;!0===(null===(o=t.detail)||void 0===o?void 0:o.isOpen)&&(Object(v.f)(e),e.$tracker.trackActionLogs([e.$tracker.buildActionLogRecord({kind:"usermenu-imp",contents:{}})]))})),null==t||t.on("clickUserMenuLink",(t=>{var o;(null===(o=t.detail)||void 0===o?void 0:o.routeName)&&e.$tracker.trackActionLogs([e.$tracker.buildActionLogRecord({kind:"usermenu-link-click",contents:{routeName:t.detail.routeName}})])})),null==t||t.on("unconfirmedEmail",(()=>{e.pushRequestEmailConfirmModal()})),null==t||t.on("clickDraftNote",(t=>{var{draftNote:o,index:n}=t.detail;if(e.$tracker.trackActionLogs([e.$tracker.buildActionLogRecord({kind:"posting-menu-click",contents:{type:"Draft",index:n}})]),"TextNote"!==o.rawData.type){var data={noteType:o.rawData.type,props:{note:o.rawData}};e.pushNoteEditModal(data)}})),null==t||t.on("togglePosting",function(){var t=Object(n.a)((function*(t){var o;!0===(null===(o=t.detail)||void 0===o?void 0:o.isOpen)&&(Object(v.b)(e),e.$tracker.trackActionLogs([e.$tracker.buildActionLogRecord({kind:"posting-menu-click",contents:{type:"OpenMenu",experiment_info:{}}})]))}));return function(e){return t.apply(this,arguments)}}()),null==t||t.on("infoNotificationOpen",(()=>{A(e.$tracker,"info-notification-open")})),null==t||t.on("notificationOpen",(()=>{A(e.$tracker,"notification-open")})),null==t||t.on("infoNotificationClick",(t=>{var{key:o,index:n}=t.detail;e.$tracker.trackActionLogs([e.$tracker.buildActionLogRecord({kind:"info-notification-click",contents:{place:"info-notification",target_id:o,target_type:"InfoNotice",index:n}})])})),null==t||t.on("notificationLinkClick",(t=>{var{linkType:o,noticeKind:n}=t.detail;e.$tracker.trackActionLogs([e.$tracker.buildActionLogRecord({kind:"notification-link-click",contents:{link_type:o,notice_kind:n}})])})),null==t||t.on("clickMembershipLpButton",(()=>{e.$tracker.trackActionLogs([e.$tracker.buildActionLogRecordV2({section:"navbar-user-menu",target:"membership-lp-button",event:"click"})])})),null==t||t.on("clickMessageIcon",(t=>{e.$tracker.trackActionLogs([e.$tracker.buildActionLogRecordV2({section:"navbar",target:"message-button",event:"click",contents:{action:t.detail.action,unread_message_count:t.detail.unreadMessageCount}})])}))}))()},beforeDestroy(){var e;null===(e=this.navbarEventBus)||void 0===e||e.offAll(),this.throttledHandleScroll&&window.removeEventListener("scroll",this.throttledHandleScroll)},methods:{handleScroll(){this.isAtTop=window.scrollY<10}}}),U=w,I=o(7),component=Object(I.a)(U,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("navbar-primary-container",{attrs:{"current-user":e._currentUser,"router-config":e.routerConfig,"custom-logo-config":e.customLogoConfig,"custom-domain-config":e.customDomainConfig,"creator-urlname":e.creatorUrlname,"creator-name":e.creatorName,"creator-image-url":e.creatorImageUrl,"router-event-bus":e.routerEventBus,"navbar-event-bus":e.navbarEventBus,"show-search-only-on-mobile":e.showSearchOnlyOnMobile,"show-message-icon":e.showMessageIcon}})}),[],!1,null,null,null);t.default=component.exports}}]);