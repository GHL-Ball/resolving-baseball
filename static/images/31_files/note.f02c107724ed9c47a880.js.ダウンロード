(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{3047:function(t,e,n){"use strict";var o,d=n(1),r=n(3117);!function(t){t.Main="main",t.LeftSide="left-side",t.RightSide="right-side",t.Heading="heading",t.Bottom="bottom",t.AboveArea="above-area"}(o||(o={}));var l=d.a.extend({inject:{components:{default:{HideOnWebview:r.a}}},props:{hasMainBackground:{type:Boolean,default:!0},hideHeaderOnMobile:{type:Boolean,default:!0},isStickyLeftColumn:{type:Boolean,default:!1},isStickyRightColumn:{type:Boolean,default:!1}},methods:{isLeftSideExisted:function(t){return Boolean(t[o.LeftSide])},isRightSideExisted:function(t){return Boolean(t[o.RightSide])},isHeadingExisted:function(t){return Boolean(t[o.Heading])},isBottomExisted:function(t){return Boolean(t[o.Bottom])},isAboveAreaExisted:function(t){return Boolean(t[o.AboveArea])}}}),c=(n(3131),n(7)),component=Object(c.a)(l,(function(t,e){var n=e._c;return n("main",{staticClass:"t-settings"},[n("div",{staticClass:"t-settings__inner"},[n(e.injections.components.HideOnWebview,{tag:"component"},[e.$options.methods.isLeftSideExisted(e.slots())?n("div",{class:"t-settings__nav "+(e.props.isStickyLeftColumn?"md:sticky md:top-6":"")},[e._t("left-side")],2):e._e(),e._v(" "),e.$options.methods.isRightSideExisted(e.slots())?n("div",{class:"t-settings__aside "+(e.props.isStickyRightColumn?"md:sticky md:top-6":"")},[e._t("right-side")],2):e._e()]),e._v(" "),n("div",{staticClass:"t-settings__center"},[e.$options.methods.isAboveAreaExisted(e.slots())?n("div",{staticClass:"t-settings__aboveArea"},[e._t("above-area")],2):e._e(),e._v(" "),e._t("above-main"),e._v(" "),n("div",{staticClass:"t-settings__main",attrs:{"data-has-main-background":e.props.hasMainBackground}},[e.$options.methods.isHeadingExisted(e.slots())?n("div",{class:{"t-settings__headingWrapper":!0,"t-settings__headingWrapper--hideMobile":e.props.hideHeaderOnMobile}},[e._t("heading")],2):e._e(),e._v(" "),n("div",{staticClass:"t-settings__mainInner",class:e.$options.methods.isHeadingExisted(e.slots())?"has-heading":"",attrs:{"data-has-main-background":e.props.hasMainBackground}},[e._t("main")],2)]),e._v(" "),e.$options.methods.isBottomExisted(e.slots())?n("div",{staticClass:"t-settings__bottom",attrs:{"data-has-main-background":e.props.hasMainBackground}},[e._t("bottom")],2):e._e()],2)],1)])}),[],!0,null,"34d0aae4",null);e.a=component.exports},3051:function(t,e,n){var content=n(3132);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(16).default)("899811de",content,!0,{sourceMap:!1})},3117:function(t,e,n){"use strict";var o=n(1),d=n(326);e.a=o.a.extend({functional:!0,props:{platform:{type:String,default:null}},render:(t,e)=>Object(d.b)(e.parent,e.props.platform)?null:e.slots().default})},3131:function(t,e,n){"use strict";n(3051)},3132:function(t,e,n){var o=n(15)((function(i){return i[1]}));o.push([t.i,".t-settings[data-v-34d0aae4]{display:flex;justify-content:center;min-height:100vh;padding:40px;background-color:var(--color-background-secondary)}@media only screen and (max-width:1280px){.t-settings[data-v-34d0aae4]{padding:24px}}@media only screen and (max-width:768px){.t-settings[data-v-34d0aae4]{padding:0}}.t-settings__inner[data-v-34d0aae4]{display:flex;align-items:flex-start;justify-content:center;width:100%;max-width:1200px}@media only screen and (max-width:768px){.t-settings__inner[data-v-34d0aae4]{display:block}}.t-settings__nav[data-v-34d0aae4]{flex:1;order:0;max-width:180px;margin-right:32px}@media only screen and (min-width:769px)and (max-width:940px){.t-settings__nav[data-v-34d0aae4]{flex:0 0 auto}}@media only screen and (min-width:481px)and (max-width:768px){.t-settings__nav[data-v-34d0aae4]{width:100%;padding:24px 0 0;margin-right:0;margin-bottom:8px;background-color:var(--color-background-primary);border-bottom:1px solid var(--color-border-default)}}@media only screen and (max-width:768px){.t-settings__nav[data-v-34d0aae4]{max-width:none;margin-right:0}}@media only screen and (max-width:480px){.t-settings__nav[data-v-34d0aae4]{width:100%;padding:24px 0 0;margin-right:0;margin-bottom:8px;background-color:var(--color-background-primary);border-bottom:1px solid var(--color-border-default)}}.t-settings__center[data-v-34d0aae4]{flex:1;order:1;max-width:620px}@media only screen and (max-width:768px){.t-settings__center[data-v-34d0aae4]{max-width:none}}.t-settings__main[data-has-main-background=true][data-v-34d0aae4]{background-color:var(--color-background-primary);border-radius:8px}@media only screen and (max-width:768px){.t-settings__main[data-has-main-background=true][data-v-34d0aae4]{border-color:var(--color-border-default);border-width:0 0 1px;border-radius:0}}@media only screen and (min-width:481px)and (max-width:768px){.t-settings__mainInner[data-v-34d0aae4]{padding:8px 24px 24px}}@media only screen and (max-width:480px){.t-settings__mainInner[data-v-34d0aae4]{padding:8px 16px 16px}}.t-settings__mainInner[data-has-main-background=true][data-v-34d0aae4]{padding:40px}@media only screen and (min-width:769px)and (max-width:940px){.t-settings__mainInner[data-has-main-background=true][data-v-34d0aae4]{padding:24px}}@media only screen and (max-width:768px){.t-settings__mainInner[data-has-main-background=true][data-v-34d0aae4]{padding:24px;margin:0;border-color:var(--color-border-default);border-width:0 0 1px;border-radius:0}}@media only screen and (max-width:480px){.t-settings__mainInner[data-has-main-background=true][data-v-34d0aae4]{padding:24px 16px}}.t-settings__headingWrapper[data-v-34d0aae4]{padding:25px 40px;border-bottom:2px solid var(--color-border-default)}@media only screen and (min-width:769px)and (max-width:940px){.t-settings__headingWrapper[data-v-34d0aae4]{padding:24px}}@media only screen and (max-width:768px){.t-settings__headingWrapper[data-v-34d0aae4]{padding:16px;border-bottom:none}.t-settings__headingWrapper--hideMobile[data-v-34d0aae4]{position:absolute;width:1px;height:1px;overflow:hidden;clip:rect(1px,1px,1px,1px)}}.t-settings__aside[data-v-34d0aae4]{flex:1;order:2;max-width:280px;margin-left:32px}@media only screen and (max-width:768px){.t-settings__aside[data-v-34d0aae4]{max-width:none;margin-left:0}}@media only screen and (min-width:769px)and (max-width:940px){.t-settings__aside[data-v-34d0aae4]{max-width:200px;margin-left:16px}}.t-settings__bottom[data-v-34d0aae4]{max-width:620px;margin-top:40px}@media only screen and (max-width:768px){.t-settings__bottom[data-v-34d0aae4]{max-width:none}}.t-settings__bottom[data-has-main-background=true][data-v-34d0aae4]{padding:40px;background-color:var(--color-background-primary);border-radius:8px}@media only screen and (min-width:769px)and (max-width:940px){.t-settings__bottom[data-has-main-background=true][data-v-34d0aae4]{padding:24px}}@media only screen and (max-width:768px){.t-settings__bottom[data-has-main-background=true][data-v-34d0aae4]{padding:24px}}@media only screen and (max-width:480px){.t-settings__bottom[data-has-main-background=true][data-v-34d0aae4]{padding:24px 16px}}",""]),o.locals={},t.exports=o},3384:function(t,e,n){var content=n(3575);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(16).default)("49bad307",content,!0,{sourceMap:!1})},3573:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var o=n(0);function d(t,e){return r.apply(this,arguments)}function r(){return(r=Object(o.a)((function*(t,e){var n,o,d,r=yield t.get("/v3/mkit_layouts/json",{params:{location:e,context:"banner_notice_general_202501",page:1}});return(null===(o=null===(n=r.data)||void 0===n?void 0:n.data)||void 0===o?void 0:o.sections)&&r.data.data.sections.length>0&&(null===(d=r.data.data.sections[0].bannerNotices)||void 0===d?void 0:d.length)>0?r.data.data.sections[0].bannerNotices:[]}))).apply(this,arguments)}},3574:function(t,e,n){"use strict";n(3384)},3575:function(t,e,n){var o=n(15)((function(i){return i[1]}));o.push([t.i,'@media only screen and (max-width:768px){.o-bannerNotices[data-v-79fc1e88]{display:flex;flex-wrap:nowrap;align-items:stretch;overflow-x:auto}.o-bannerNotices[data-v-79fc1e88]:after{display:block;padding-left:8px;content:""}}.o-bannerNotices__item[data-v-79fc1e88]{margin-bottom:16px;font-size:0}@media only screen and (min-width:769px)and (max-width:940px){.o-bannerNotices__item[data-v-79fc1e88]{margin-bottom:8px}}@media only screen and (max-width:768px){.o-bannerNotices__item[data-v-79fc1e88]{display:flex;align-items:stretch;width:240px;min-width:240px;margin:0 0 0 8px}.o-bannerNotices__item[data-v-79fc1e88]:only-child{width:100%}}.o-bannerNotices__image[data-v-79fc1e88]{width:100%;border-radius:8px}',""]),o.locals={},t.exports=o},3621:function(t,e,n){"use strict";n(30);var o=n(1),d=n(37),r=n(44),l=n(376),c=o.a.extend({components:{NtImage:d.default,NtLink:r.default},props:{bannerNotices:{type:Array,required:!0}},methods:{handleClick(t){this.$tracker.trackActionLogs([this.$tracker.buildActionLogRecord({kind:"banner-notice-click",contents:{id:t.id,image_url:t.url,location:t.location}})])},bannerImageUrl:t=>new l.a(t).width(620).dpr(2).toString()}}),m=(n(3574),n(7)),component=Object(m.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"o-bannerNotices"},[t._l(t.bannerNotices,(function(e){return[n("div",{directives:[{name:"imp-track",rawName:"v-imp-track",value:{kind:"banner-notice-imp",contents:{id:e.id,image_url:e.url,location:e.location}},expression:"{\n        kind: 'banner-notice-imp',\n        contents: {\n          id: banner.id,\n          image_url: banner.url,\n          location: banner.location\n        }\n      }"}],key:e.id,staticClass:"o-bannerNotices__item"},[n("nt-link",{attrs:{href:e.url,target:"_blank"},on:{click:function(n){return t.handleClick(e)}}},[n("nt-image",{staticClass:"o-bannerNotices__image",attrs:{lazy:!1,src:t.bannerImageUrl(e.imageUrl),alt:e.description}})],1)],1)]}))],2)}),[],!1,null,"79fc1e88",null);e.a=component.exports},4052:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var o=n(23),d=n(34);const p=Object(o.a)((()=>"/v3/note_imports/in_progress"),(async(t,e,n,o)=>{const r=await t.get(e,o);return Object(d.a)(r.data.data,{callerName:"getInProgressNoteImportV3"})}))},4053:function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var o=n(23),d=n(34);const g=Object(o.a)((()=>"/v3/note_exports/in_progress"),(async(t,e,n,o)=>{const r=await t.get(e,o);return Object(d.a)(r.data.data.note_export,{callerName:"getInProgressNoteExportV3"})}))},4054:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var o=n(0);function d(t,e){return r.apply(this,arguments)}function r(){return(r=Object(o.a)((function*(t,e){return(yield t.get("/v3/members/owners",e)).data.data}))).apply(this,arguments)}},4365:function(t,e,n){"use strict";var o=n(0),d=(n(11),n(26),n(12),n(19),n(1)),r=n(3573),l=n(54),c=n(3047),m=n(3621),x=n(21),h=n.n(x),v=n(4052),_=n(4053),f=n(24),y=n(43),w=n(248),k=n(69),N=d.a.extend({components:{NtButton:y.a,NtSvgIcon:w.default,ImportModal:()=>n.e(398).then(n.bind(null,6634)),ExportModal:()=>n.e(473).then(n.bind(null,6930))},props:{disabled:{type:Boolean,default:!1}},data:()=>({isLoading:!1,isImportModalMounted:!1,isExportModalMounted:!1}),methods:{onClickImport(){var t=this;return Object(o.a)((function*(){var e,n,o;if(!t.isLoading)if(t.currentUser.emailConfirmedFlag){t.isLoading=!0;var d=yield v.a.call(h.a,void 0,void 0,Object(f.a)(t)).then((()=>({status:200}))).catch((t=>t.response));switch(t.isLoading=!1,d.status){case 200:return void Object(k.c)(t,{message:'<h1 class="font-bold text-lg mb-4">実行中のインポートがあります。</h1><p>インポートが完了するまでお待ち下さい。準備ができ次第、メールでお知らせします。</p>'});case 503:return void Object(k.c)(t,{message:null!==(o=null===(n=null===(e=d.data)||void 0===e?void 0:e.error)||void 0===n?void 0:n.message)&&void 0!==o?o:"エラーが発生しました"})}t.isImportModalMounted=!0,yield t.$nextTick(),!1===t.$webview.isWebview&&t.$modal.push("import")}else Object(k.C)(t)}))()},onClickExport(){var t=this;return Object(o.a)((function*(){var e,n,o;if(!t.isLoading)if(t.currentUser.emailConfirmedFlag){t.isLoading=!0;var d=yield _.a.call(h.a,void 0,void 0,Object(f.a)(t)).then((()=>({status:200}))).catch((t=>t.response));switch(t.isLoading=!1,d.status){case 200:return void Object(k.c)(t,{message:'<h1 class="font-bold text-lg mb-4">実行中のエクスポートがあります。</h1><p>エクスポートが完了するまでお待ち下さい。準備ができ次第、メールでお知らせします。</p>'});case 503:return void Object(k.c)(t,{message:null!==(o=null===(n=null===(e=d.data)||void 0===e?void 0:e.error)||void 0===n?void 0:n.message)&&void 0!==o?o:"エラーが発生しました"})}t.isExportModalMounted=!0,yield t.$nextTick(),!1===t.$webview.isWebview&&t.$modal.push("export")}else Object(k.C)(t)}))()}}}),C=n(7),M=Object(C.a)(N,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"flex justify-end gap-2 h-8 pr-4 md:pr-0"},[n("client-only",[n("NtButton",{attrs:{size:"small",type:"basic",disabled:t.disabled},on:{click:t.onClickImport}},[n("nt-svg-icon",{attrs:{type:"download",size:"small"}}),t._v("\n       \n      インポート\n    ")],1),t._v(" "),n("NtButton",{attrs:{size:"small",type:"basic",disabled:t.disabled},on:{click:t.onClickExport}},[n("nt-svg-icon",{attrs:{type:"export",size:"small"}}),t._v("\n       \n      エクスポート\n    ")],1),t._v(" "),t.isImportModalMounted?n("import-modal"):t._e(),t._v(" "),t.isExportModalMounted?n("export-modal"):t._e()],1)],1)}),[],!1,null,null,null).exports,O=d.a.extend({components:{BannerNotices:m.a,ImportExportButtonGroup:M,NoteListSidebar:()=>n.e(206).then(n.bind(null,6862)),NoteListNotes:()=>n.e(203).then(n.bind(null,6863)),NoteListLibrary:()=>n.e(202).then(n.bind(null,6864)),NoteListOwnerHeader:()=>n.e(204).then(n.bind(null,6865)),SettingsTemplate:c.a,NoteListTips:()=>n.e(207).then(n.bind(null,6866)),NoteListRated:()=>n.e(205).then(n.bind(null,6867))},mixins:[l.a],data:()=>({isAnyNoteChecked:!1,bannerNotices:[]}),computed:{pageParam(){return this.$route.params.notes||"notes"},isOwnerNotePage(){return!!this.$route.params.urlname},showTips(){return"notes"===this.$route.name},showBannerNotices(){return this.bannerNotices.length>0}},mounted(){var t=this;return Object(o.a)((function*(){if(t.bannerNotices=yield Object(r.a)(t.$axios,"note_list").catch((()=>[])),t.$route.query.edit_key&&t.currentUser&&t.currentUser.emailConfirmedFlag){var e=yield t.$axios.get("/v3/notes/".concat(t.$route.query.edit_key)).catch((()=>null));if(e&&!e.data.error){var n=e.data.data;"TextNote"!==n.type&&n.isMyNote&&["published","reserved","draft"].includes(n.status)&&(t.mountModals("noteEdit"),t.pushNoteEditModal({noteType:n.type,props:{note:n}}))}}}))()},methods:{onChangedCheckedNotes(t){this.isAnyNoteChecked=t.length>0}}}),j=(n(5411),Object(C.a)(O,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("settings-template",{attrs:{"hide-header-on-mobile":!1},scopedSlots:t._u([{key:"left-side",fn:function(){return[n("div",{staticClass:"o-noteList__aside"},[n("note-list-sidebar")],1)]},proxy:!0},t.showTips?{key:"right-side",fn:function(){return[t.showBannerNotices?n("div",{staticClass:"mb-2 md:mb-4"},[n("banner-notices",{attrs:{"banner-notices":t.bannerNotices}})],1):t._e(),t._v(" "),n("note-list-tips",{staticClass:"mb-2 md:mb-4"})]},proxy:!0}:null,t.isOwnerNotePage?{key:"heading",fn:function(){return[n("NoteListOwnerHeader")]},proxy:!0}:null,{key:"main",fn:function(){return[n("div",{staticClass:"o-noteList__main"},["notes"===t.pageParam?n("note-list-notes",{on:{"changed-checked-notes":t.onChangedCheckedNotes}}):"rated"===t.pageParam?n("note-list-rated"):n("note-list-library",{attrs:{"page-param":t.pageParam}})],1)]},proxy:!0}],null,!0)},[t._v(" "),t._v(" "),t._v(" "),"notes"===t.$route.name?n("div",{staticClass:"mb-4",attrs:{slot:"above-main"},slot:"above-main"},[n("import-export-button-group",{attrs:{disabled:t.isAnyNoteChecked}})],1):t._e()])}),[],!1,null,"162e2f0c",null));e.a=j.exports},4533:function(t,e,n){var content=n(5412);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(16).default)("5aaa2e9f",content,!0,{sourceMap:!1})},5411:function(t,e,n){"use strict";n(4533)},5412:function(t,e,n){var o=n(15)((function(i){return i[1]}));o.push([t.i,".o-noteList[data-v-162e2f0c]{display:flex}.o-noteList__main[data-v-162e2f0c]{width:100%}",""]),o.locals={},t.exports=o}}]);